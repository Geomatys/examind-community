<div class="logo-wrapper row">
    <div class="col-sm-12">
        <h3 class="header-title" translate="page.header.title.create.service">New service</h3>
    </div>
</div>
<div class="col-sm-12">
    <div class="frame dashboard serviceSource" id="newServiceForm">
        <div id="description" class="row bg-white">
            <div class="frame dashboard">
                <div class="navbar navbar-default">
                    <div class="navbar-header">
                        <a class="navbar-brand"
                           translate="create.description.title.label">Create a service</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row bg-white" ng-if="wsCreateCtrl.serviceInfo">
            <div class="col-sm-3">
                <div class="well">
                    <div ng-if="wsCreateCtrl.type === 'wms'">
                        <p><h4>WMS</h4></p>
                        <p><span translate="create.description.text.wms"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'wfs'">
                        <p><h4>WFS</h4></p>
                        <p><span translate="create.description.text.wfs"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'wmts'">
                        <p><h4>WMTS</h4></p>
                        <p><span translate="create.description.text.wmts"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'tms'">
                        <p><h4>TMS</h4></p>
                        <p><span translate="create.description.text.tms"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'wcs'">
                        <p><h4>WCS</h4></p>
                        <p><span translate="create.description.text.wcs"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'wps'">
                        <p><h4>WPS</h4></p>
                        <p><span translate="create.description.text.wps"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'sos'">
                        <p><h4>SOS</h4></p>
                        <p><span translate="create.description.text.sos"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'sts'">
                        <p><h4>STS</h4></p>
                        <p><span translate="create.description.text.sts"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'csw'">
                        <p><h4>CSW</h4></p>
                        <p><span translate="create.description.text.csw"></span></p>
                    </div>
                    <div ng-if="wsCreateCtrl.type === 'thw'">
                        <p><h4>Thesaurus</h4></p>
                        <p><span translate="create.description.text.thw"></span></p>
                    </div>
                </div>
            </div>
            <div class="col-sm-9">
                <fieldset style="padding-left:20px;">
                    <legend>
                        <span translate="service.description.tab.description.title">Service description</span>
                    </legend>
                    <label class="mandatory-label">(*) champs obligatoires</label>
                    <div class="form-group">
                        <form id="serviceform"
                              class="form-horizontal"
                              name="wsCreateCtrl.serviceform"
                              role="form">
                            <div class="form-group row">
                                <label class="control-label col-xs-2 new-service-form-label">
                                    {{"service.description.tab.description.name" | translate}} (*)
                                </label>
                                <div class="col-xs-8">
                                    <input  type="text"
                                            class="form-control form-control-fix"
                                            id="name"
                                            name="name"
                                            ng-required="true"
                                            ng-model="wsCreateCtrl.metadata.name"/>
                                    <div ng-if="!wsCreateCtrl.isValidField(wsCreateCtrl.serviceform.name)"
                                         class="col-xs-12 control-error">
                                        <i class="fa fa-caret-up"></i>
                                        <span ng-if="!wsCreateCtrl.isValidRequired(wsCreateCtrl.serviceform.name)">
                                            {{"metadata.edition.validation.required" | translate}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="control-label col-xs-2 new-service-form-label">
                                    {{"service.description.tab.description.identifier" | translate}} (*)
                                </label>
                                <div class="col-xs-8">
                                    <input type="text"
                                           class="form-control form-control-fix"
                                           id="identifier"
                                           name="identifier"
                                           ng-required="true"
                                           ng-model="wsCreateCtrl.metadata.identifier"/>
                                    <div ng-if="!wsCreateCtrl.isValidField(wsCreateCtrl.serviceform.identifier)"
                                         class="col-xs-12 control-error">
                                        <div ng-if="!wsCreateCtrl.isValidRequired(wsCreateCtrl.serviceform.identifier)">
                                            <i class="fa fa-caret-up"></i>
                                            <span>
                                                {{"metadata.edition.validation.required" | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div ng-if="!wsCreateCtrl.isValidIdentifier(wsCreateCtrl.serviceform.identifier)"
                                         class="col-xs-12 control-error">
                                        <i class="fa fa-caret-up"></i>
                                        <span>{{"service.edition.validation.identifier" | translate}}</span>
                                    </div>
                                </div>
                                <div>
                                    <span class="btn-lg tooltipicon glyphicon glyphicon-info-sign"
                                          tooltip data-placement="top"
                                          title="{{'tooltip.service.create.name' | translate }}"></span>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="control-label col-xs-2 new-service-form-label"
                                       translate="service.description.tab.description.tags">Tags</label>
                                <div class="col-xs-8">
                                    <div class="tag-input-ctn">
                                        <div data-ng-repeat="(key, tag) in wsCreateCtrl.metadata.keywords track by $index"
                                             class="input-tag">
                                            {{ tag }}
                                            <div class="delete-tag" data-ng-click="wsCreateCtrl.deleteTag(key)">&times;</div>
                                        </div>
                                        <input type="text" data-tag-input=""
                                               data-ng-model="wsCreateCtrl.newService.tagText"
                                               data-new-tag="wsCreateCtrl.addTag()"
                                               data-delete-tag="wsCreateCtrl.deleteTag()"/>
                                    </div>
                                </div>
                                <div>
                                    <span class="btn-lg tooltipicon glyphicon glyphicon-info-sign"
                                          tooltip data-placement="top"
                                          title="{{'tooltip.service.create.tag' | translate }}"></span>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="control-label col-xs-2 new-service-form-label"
                                       translate="service.description.tab.description.description">Description</label>
                                <div class="col-xs-8">
                                <textarea id="inputDescription"
                                          rows="5"
                                          class="form-control form-control-fix"
                                          ng-model="wsCreateCtrl.metadata.description"></textarea>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="control-label col-xs-2 new-service-form-label">
                                    {{"service.description.tab.description.version" | translate}} (*)
                                </label>
                                <div class="col-xs-8">
                                    <div id="versionsCheck"
                                         ng-init="wsCreateCtrl.selectedVersion()">
                                        <div ng-repeat="version in wsCreateCtrl.versions" class="inline">
                                            <div class="checkbox inline">
                                                <input type="checkbox"
                                                       ng-model="version.checked"
                                                       ng-disabled="wsCreateCtrl.versions.length ==1;"
                                                       name="{{'checkbox_'+$index}}"
                                                       ng-change="wsCreateCtrl.selectedVersion()"/> {{version.id}}
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!wsCreateCtrl.isValidVersion(wsCreateCtrl.serviceform)"
                                         class="col-xs-12 control-error">
                                        <i class="fa fa-caret-up"></i>
                                        <span>{{"service.edition.validation.version.required" | translate}}</span>
                                    </div>
                                </div>
                                <div>
                                    <span class="btn-lg tooltipicon glyphicon glyphicon-info-sign"
                                          tooltip data-placement="top"
                                          title="{{'tooltip.service.create.version' | translate }}" ></span>
                                </div>
                            </div>
                        </form>
                    </div>
                </fieldset>
            </div>
        </div>
        <div ng-if="wsCreateCtrl.serviceContact">
            <div class="row bg-white form_service_md">
                <div class="col-sm-6" style="padding-left:30px;">
                    <!-- contact part -->
                    <fieldset>
                        <legend translate="create.contact.legend">Contact information</legend>
                        <form class="form" role="form">
                            <div class="control-group">
                                <label class="control-label new-service-form-label"
                                       for="contactFirstName"
                                       translate="create.contact.firstname.label">First name</label>
                                <input type="text" class="form-control"
                                       id="contactFirstName" ng-model="wsCreateCtrl.metadata.serviceContact.firstname"/>
                            </div>
                            <div class="control-group">
                                <label class="control-label new-service-form-label"
                                       for="contactLastName"
                                       translate="create.contact.lastname.label">Last name</label>
                                <input type="text" class="form-control"
                                       id="contactLastName" ng-model="wsCreateCtrl.metadata.serviceContact.lastname"/>
                            </div>
                            <div class="control-group">
                                <label class="control-label new-service-form-label"
                                       for="contactOrganisation"
                                       translate="create.contact.organisation.label">Organisation</label>
                                <input type="text" class="form-control"
                                       id="contactOrganisation" ng-model="wsCreateCtrl.metadata.serviceContact.organisation"/>
                            </div>
                            <div class="control-group">
                                <label class="control-label new-service-form-label"
                                       for="contactPosition"
                                       translate="create.contact.position.label">Position</label>
                                <input type="text" class="form-control"
                                       id="contactPosition" ng-model="wsCreateCtrl.metadata.serviceContact.position"/>
                            </div>
                            <div class="control-group">
                                <label class="col-xs-12 control-label new-service-form-label"
                                       for="contactPhone"
                                       translate="create.contact.phone.label" style="padding:0;">Phone</label>
                                <div class="col-xs-6" style="padding:0; margin-bottom:7px;">
                                    <input type="tel" class="form-control"
                                           id="contactPhone" ng-model="wsCreateCtrl.metadata.serviceContact.phone"/>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="col-xs-12 control-label new-service-form-label"
                                       for="contactFax"
                                       translate="create.contact.fax.label" style="padding:0;">Fax</label>
                                <div class="col-xs-6" style="padding:0; margin-bottom:7px;">
                                    <input type="tel" class="form-control"
                                           id="contactFax" ng-model="wsCreateCtrl.metadata.serviceContact.fax"/>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="col-xs-12 control-label new-service-form-label"
                                       for="contactemail"
                                       translate="create.contact.email.label" style="padding:0;">Email</label>
                                <input type="text" class="form-control"
                                       id="contactEmail" ng-model="wsCreateCtrl.metadata.serviceContact.email"/>
                            </div>
                        </form>
                    </fieldset>
                </div>
                <div class="col-sm-6" style="padding-right:30px;">
                    <!-- address part -->
                    <fieldset>
                        <legend translate="create.contact.address.legend">Contact address</legend>
                        <form class="form" role="form">
                            <div class="control-group">
                                <label class="control-label new-service-form-label"
                                       for="contactAddress"
                                       translate="create.contact.address.label">Address</label>
                                <input type="text" class="form-control"
                                       id="contactAddress" ng-model="wsCreateCtrl.metadata.serviceContact.address"/>
                            </div>
                            <div class="control-group">
                                <label class="control-label new-service-form-label"
                                       for="contactCity"
                                       translate="create.contact.address.city.label">City</label>
                                <input type="text" class="form-control"
                                       id="contactCity" ng-model="wsCreateCtrl.metadata.serviceContact.city"/>
                            </div>
                            <div class="control-group">
                                <label class="control-label new-service-form-label"
                                       for="contactState"
                                       translate="create.contact.address.state.label">State</label>
                                <input type="text" class="form-control"
                                       id="contactState" ng-model="wsCreateCtrl.metadata.serviceContact.state"/>
                            </div>
                            <div class="control-group">
                                <label class="col-xs-12 control-label new-service-form-label"
                                       for="contactPostcode"
                                       translate="create.contact.address.postcode.label" style="padding:0;">Zip code</label>
                                <div class="col-xs-4" style="padding:0; margin-bottom:7px;">
                                    <input type="text" class="form-control"
                                           id="contactPostcode" ng-model="wsCreateCtrl.metadata.serviceContact.zipCode"/>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="col-xs-12 control-label new-service-form-label"
                                       for="contactCountry"
                                       translate="create.contact.address.country.label" style="padding:0;">Country</label>
                                <input type="text" class="form-control"
                                       id="contactCountry" ng-model="wsCreateCtrl.metadata.serviceContact.country"/>
                            </div>
                        </form>
                    </fieldset>
                </div>
            </div>
            <div class="row bg-white form_service_md" style="padding-top: 20px;">
                <div class="col-sm-6" style="padding-left:30px;">
                    <!-- access constraints part -->
                    <fieldset>
                        <legend translate="create.accessconstraint.legend">Access constraints</legend>
                        <form class="form" role="form">
                            <div class="control-group row">
                                <label class="col-xs-12 control-label new-service-form-label"
                                       for="fees"
                                       translate="create.accessconstraint.fees.label"
                                       style="padding:0 0 0 15px;">Fees</label>
                                <div class="col-xs-11" style=" padding:0 15px;margin-bottom:7px;">
                                    <input id="fees" class="form-control" type="text"
                                           ng-model="wsCreateCtrl.metadata.serviceConstraints.fees"/>
                                </div>
                                <div class="btn-lg tooltipicon">
                                    <span class="glyphicon glyphicon-info-sign"
                                          tooltip data-placement="right"
                                          title="{{'tooltip.service.create.fees' | translate }}" ></span>
                                </div>
                            </div>
                            <div class="control-group row">
                                <label class="col-xs-12 control-label new-service-form-label"
                                       for="accessConstraints"
                                       translate="create.accessconstraint.label"
                                       style="padding:0 0 0 15px;">Access constraints</label>
                                <div class="col-xs-11" style="margin-bottom:7px;padding:0 15px;">
                                    <textarea rows="5" id="accessConstraints" class="form-control"
                                              ng-model="wsCreateCtrl.metadata.serviceConstraints.accessConstraint"></textarea>
                                </div>
                                <div class="btn-lg tooltipicon">
                                    <span class="glyphicon glyphicon-info-sign"
                                          tooltip data-placement="right"
                                          title="{{'tooltip.service.create.contraints' | translate }}" ></span>
                                </div>
                            </div>
                            <div class="control-group" data-toggle="tooltip"
                                 title="{{'create.accessconstraint.layerlimit.tooltip' | translate }}"
                                 id="layerlimitGroup" style="height:59px;">
                                <label class="col-xs-12 control-label new-service-form-label" for="layerLimit"
                                       translate="create.accessconstraint.layerlimit.label"
                                       style="padding:0;">Layer limit</label>
                                <div class="col-xs-4" style="padding:0;margin-bottom:7px;">
                                    <input type="text" id="layerLimit" class="form-control"
                                           ng-model="wsCreateCtrl.metadata.serviceConstraints.layerLimit"/>
                                </div>
                                <div class="btn-lg tooltipicon">
                                    <span style="margin-left:15px;"
                                          class="glyphicon glyphicon-info-sign"
                                          tooltip data-placement="right"
                                          title="{{'tooltip.service.create.layer' | translate }}" ></span>
                                </div>
                            </div>
                            <div class="control-group" data-toggle="tooltip"
                                 title="{{'create.accessconstraint.maxwidth.tooltip' | translate }}"
                                 id="maxWidthGroup" style="height:59px;">
                                <label class="control-label new-service-form-label col-xs-12"
                                       for="maxWidth"
                                       translate="create.accessconstraint.maxwidth.label" style="padding:0;">Max width</label>
                                <div class="col-xs-4" style="padding:0; margin-bottom:7px;">
                                    <input type="text" id="maxWidth" class="form-control"
                                           ng-model="wsCreateCtrl.metadata.serviceConstraints.maxWidth"/>
                                </div>
                                <div class="btn-lg tooltipicon">
                                    <span style="margin-left:15px;"
                                          class="glyphicon glyphicon-info-sign"
                                          tooltip data-placement="right"
                                          title="{{'tooltip.service.create.maxwidth' | translate }}" ></span>
                                </div>
                            </div>
                            <div class="control-group" data-toggle="tooltip"
                                 title="{{'create.accessconstraint.maxheight.tooltip' | translate }}"
                                 id="maxHeightGroup" style="height:59px;">
                                <label class="control-label new-service-form-label col-xs-12"
                                       for="maxHeight"
                                       translate="create.accessconstraint.maxheight.label" style="padding:0;">Max height</label>
                                <div class="col-xs-4" style="padding:0;margin-bottom:7px;">
                                    <input type="text" id="maxHeight" class="form-control"
                                           ng-model="wsCreateCtrl.metadata.serviceConstraints.maxHeight"/>
                                </div>
                                <div class="btn-lg tooltipicon">
                                    <span style="margin-left:15px;"
                                          class="glyphicon glyphicon-info-sign"
                                          tooltip data-placement="right"
                                          title="{{'tooltip.service.create.maxheight' | translate }}" ></span>
                                </div>
                            </div>
                        </form>
                    </fieldset>
                </div>
            </div>
        </div>

        <div class="row bg-white">
            <div class="pull-right" style="margin: 20px 30px;">
                <button ng-if="wsCreateCtrl.serviceInfo"
                        class="btn btn-add"
                        type="button"
                        ng-disabled="!wsCreateCtrl.isValidForm(wsCreateCtrl.serviceform) || !wsCreateCtrl.isValidVersion() || !wsCreateCtrl.isValidIdentifier()"
                        ng-click="wsCreateCtrl.goToServiceContact(wsCreateCtrl.serviceform)"
                        translate="create.description.next.label">Next</button>
                <button ng-if="wsCreateCtrl.serviceContact"
                        class="btn btn-default"
                        type="button"
                        ng-click="wsCreateCtrl.goToServiceInfo()"
                        translate="create.description.previous.label">Previous</button>
                <button ng-if="wsCreateCtrl.serviceContact"
                        class="btn btn-add"
                        type="button"
                        ng-click="wsCreateCtrl.saveServiceMetadata()"
                        translate="label.save">Next</button>
            </div>
        </div>
    </div>
</div>
